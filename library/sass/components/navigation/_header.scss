
/*--------------------------------------------------------------
## Site Header
--------------------------------------------------------------*/

.site-header {
	background: $white;
	font-family: $font__alt;
	padding-top: 1rem;
	padding-bottom: 1rem;

	.wrap {
		align-items: center;
		display: flex;
	}

	a {
		letter-spacing: $font__letter-spacing;
		text-decoration: none;
		text-transform: uppercase;
	}
}

.site-title {
	font-size: $typesize__small;
	letter-spacing: $font__letter-spacing;
	margin: 0 1.25rem 0 0;
}


/*--------------------------------------------------------------
## Search Form
--------------------------------------------------------------*/

.site-header .search {

	&-form {
		position: relative;

		.icon-button {
			padding: 0 0.25rem;
			position: absolute;
			right: 0.5rem;
			top: 0;
			bottom: 0;
		}

		.icon-search {
			font-weight: bold;
		}
	}

	&-field {
		background: mix($light, $mediumlight, 60%);
		border-color: mix($light, $mediumlight, 60%);
		border-radius: 1rem;
		font-size: $typesize__small;
		line-height: 1;
		padding: 0.375rem 1.5rem 0.375rem 1rem;
		transition: all 0.125s;
		width: 100%;

		&:focus {
			outline: none;
		}

		&:focus-visible {
			border-color: $dark;
		}
	}
} // .site-header .search


/*--------------------------------------------------------------
## Main Nav (Drawer)
--------------------------------------------------------------*/

.main-navigation {
	margin-left: auto;
	position: fixed;
	top: 0;
	right: 0;

	a {
		color: $light;
		display: block;
		padding: 0.5rem 3rem;
		text-decoration: none;

		&:hover,
		&:focus {
			background: $dark;
		}
	}

	.menu {
		list-style: none;
		margin-bottom: 3rem;
		padding-left: 0;
	}

	.search-form {
		margin: 2rem 3rem;
	}

	&.toggled {
		z-index: 9;
	}

	@media screen and ($medium-up) {
		margin-left: 0;
	}
} // .main-navigation

.main-nav-container {
	background: rgba($dark, 0.92);
	border-bottom-right-radius: 0.5rem;
	border-bottom-left-radius: 0.5rem;
	max-height: 100vh;
	min-width: 16rem;
	opacity: 0;
	overflow-y: auto;
	position: absolute;
	right: 0;
	top: 0;
	transform: translateX(100%);
	transition: all 0.25s ease-out;

	.toggled & {
		opacity: 1;
		transform: translateX(0);
	}
}


/*--------------------------------------------------------------
## Menu Toggle
--------------------------------------------------------------*/

$button-width: 3rem;
$bar-thickness: $button-width * 0.0375;
$transition-duration: 0.15s;
$bar-color: $dark;
$bar-color-open: $light;

.menu-toggle {
	background: transparent;
	box-shadow: 0;
	display: block;
	float: right;
	height: $button-width;
	margin-top: 0.5rem;
	margin-right: 0.5rem;
	position: relative;
	width: $button-width;
	z-index: 9;

	&:hover,
	&:focus,
	&:active {
		background: transparent;
		box-shadow: none;
	}
}

.menu-toggle .icon {
	background: $bar-color; // middle-bar
	display: block;
	height: $bar-thickness;
	position: absolute;
	top: 1.5rem;
	transition: background 0s $transition-duration;
	left: 0.75rem;
	right: 0.75rem;

	// top and bottom bars
	&::before,
	&::after {
		background-color: $bar-color;
		content: '';
		display: block;
		height: $bar-thickness;
		left: 0;
		position: absolute;
		transition-duration: $transition-duration, $transition-duration;
		transition-delay: $transition-duration, 0s;
		width: 100%;
	}

	&::before {
		top: -0.45rem;
		transition-property: top, transform;
	}

	&::after {
		bottom: -0.45rem;
		transition-property: bottom, transform;
	}

	.toggled & {
		background: none; // remove middle bar

		&::before {
			top: 0;
			transform: rotate(45deg);
		}

		&::after {
			bottom: 0;
			transform: rotate(-45deg);
		}

		&::before,
		&::after {
			background-color: $bar-color-open;
			transition-delay: 0s, $transition-duration;
		}
	}
} // .menu-toggle .icon


/*--------------------------------------------------------------
## Desktop Nav
--------------------------------------------------------------*/

.desktop-navigation {
	display: none;

	.menu {
		display: flex;
		list-style: none;
		padding-left: 0;
	}

	.menu-item {
		margin-right: 1.25rem;
	}

	a {
		color: $mediumdark;
		display: block;
		text-decoration: none;
		font-size: $typesize__small;
	}

	a:hover,
	a:focus,
	.current_page_item > a,
	.current-menu-item > a,
	.current_page_ancestor > a,
	.current-menu-ancestor > a {
		color: $dark;
	}

	@media screen and ($medium-up) {
		display: block;
	}
}

.desktop-search {
	display: none;
	margin-left: auto;

	@media screen and ($large-up) {
		display: block;
	}
}

